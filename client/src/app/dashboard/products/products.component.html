<div class="container">
    <div class="row">
      <div class="col-md-12">
        <h2 class="text-center" >Products</h2>
        <button class="btn btn-success text-right my-2"  (click)="addProduct()"> Add Product</button>
        <table class="table table-striped">
          <thead>
          <tr>

            <th>Name</th>
            <th>With associated items</th>
            <th>No of association</th>
            <th>Delete</th>
            <th>Edit</th>
          </tr>
          </thead>
          <tbody>
          <tr *ngFor="let product of products">

            <td>{{product.label}}</td>
            <td>{{product.route == 1 ? "Yes" : "No"}}</td>
            <td>{{products.length}}</td>
            <td><button class="btn btn-danger" (click)="deleteProduct(product)"> Delete</button></td>
              <td>  <button class="btn btn-success" (click)="updateProduct(product)" style="margin-left: 20px;"> Edit</button></td>
          </tr>
          </tbody>
        </table>

        <ul>
          <div *ngFor="let product of products; let i = index">
                <input type="checkbox" data-toggle='collapse'
                attr.href="{{'#collapsediv' + product.route}}" ><label class="custom-unchecked"> {{product.label}}</label>
                <div *ngIf="product.route">
                  <ul class="nav flex-column">
                    <div attr.id="{{'collapsediv' + product.label_id}}" class='collapse div1 ml-4'>
                      <div *ngFor="let cat of categories">
                          <input type="checkbox" data-toggle='collapse' 
                          attr.href="{{'#collapsediv' + cat.route}}"><label> {{cat.label}}</label>
                            <div>
                              <ul *ngIf=cat.route>
                                <div attr.id="{{'collapsediv' + cat.route}}" class='collapse div1 ml-4'>
                                  <div *ngFor="let brand of brands">
                                    <input type="checkbox" data-toggle='collapse' attr.href="{{'#collapsediv' + brand.route}}"><label >{{brand.label}}</label>
                                    <div>
                                      <ul>
                                        <div *ngIf=brand.route class='collapse div1 ml-4' attr.id="{{'collapsediv' + brand.route}}">
                                          <div *ngFor="let item of items" >
                                                {{item.label}}
                                          </div>
                                        </div>
                                      </ul>
                                  </div>
                                  </div>
                                </div>
                            </ul>
                            </div>
                        </div>
                    </div>
                  </ul>
              </div>
          </div>
      </ul>
  </div>
</div>
</div>
